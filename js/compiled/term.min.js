var inheritsFrom=function(a,b){a.prototype=Object.create(b.prototype)},termCmd=function(){};termCmd.prototype.execute=function(){};var HTMLCmd=function(a){this.txt=a},RemoveCmd=function(a){this.tag=a},BuiltInCmd=function(a){this.command=a},CompositeCmd=function(a,b){this.name=a;this.cmdList=[];this.cmdList.push(b)};inheritsFrom(HTMLCmd,termCmd);inheritsFrom(RemoveCmd,termCmd);inheritsFrom(BuiltInCmd,termCmd);inheritsFrom(CompositeCmd,termCmd);
HTMLCmd.prototype.execute=function(){add_to_div("<br>"+this.txt)};BuiltInCmd.prototype.execute=function(){this.command()};RemoveCmd.prototype.execute=function(){var a=$("cmd[remove-cmd='"+this.tag+"']");console.log(a);a.remove()};CompositeCmd.prototype.execute=function(){i=0;for(max=this.cmdList.length;i<max;i++)this.cmdList[i].execute()};var prompt="",cmds={},version_="webterminal v0.2.0",info_v="</br></br>My name is Faraz Oman, and I am a student at McGill University, Majoring in Software Engineering and Minoring in Hispanic Studies. I am in my third year and I am a part of a variety of extracurriculars. I was the editor-in-chief of the <a target='_blank' href='http://www.plumbersfaucet.ca'>Plumber's Faucet</a>, and was and currently am the editor-in-chief of the Academic Journal <a target='_blank' href='http://issuu.com/clashsamcgill'>'Voces'</a> and was the Vice President of Information Technology of <a target='_blank' href='http://www.actuarialmcgill.ca'>McGill Students' Actuarial Association</a>.</br></br>I enjoy to spend my time listening to music, learning spanish and writing calligraphy.</br></br>I can be reached at <a target='_blank' href='mailto:faraz@farazoman.com'>faraz@farazoman.com</a>. Enjoy the rest of the site.</br>",
welcomemsg="Welcome to my website, to use the terminal type 'help' then press 'enter' for more commands.",errmsg="</br></br><div id='err'>Sorry</div> that is not valid command, refer to the valid commads below.",proj_info="</br></br>Hi there, thanks for the interest, my projects can be found at my <a target='_blank' href='http://www.github.com/farazoman'>github</a>. You will see the code for projects such as this terminal interface and others such as a video game in java and various hackathon mini projects.</br>",
cmd="",endline="</br>",blinkerOn=!1,inFocus=!1,remove_attr="remove-cmd";
function load(a){for(var b=document.getElementById("term_area"),g=document.getElementsByTagName("body"),d=document.getElementsByTagName("cmd"),c=0,k=d.length;c<k;c++){var e=d[c].getAttribute("name"),f=d[c].getAttribute(remove_attr),h=new HTMLCmd(d[c].innerHTML);e||(e=c+"");f&&(cmds[f]=new RemoveCmd(f),h=new HTMLCmd("<cmd "+remove_attr+"="+f+">"+d[c].innerHTML+"</cmd>"));cmds[e]=new CompositeCmd(e,h)}cmds.version=new BuiltInCmd(version);cmds.help=new BuiltInCmd(ayuda);cmds.clear=new BuiltInCmd(clear);
b.innerHTML="";add_to_div(b.getAttribute("welcome"));prompt=endline+a;add_to_div(prompt);setInterval(function(){blinker()},500);b.addEventListener("click",setInFocus,!1);g[0].addEventListener("click",setOutOfFocus)}function setInFocus(){inFocus=!0}function setOutOfFocus(a){"term_area"==a.target.id?setInFocus():inFocus=!1}function nada(){}function add_to_div(a,b){(void 0===b?0:b)?$("#term_area").append(a):$("#term_area").append("<span>"+a+"</span>")}
var version=function(){add_to_div("</br></br>"+version_+"</br>This version is still in beta with many features still to be implemented. Source code can be viewed <a target='_blank' href='http://www.github.com/farazoman/terminal_webapp'>here</a></br>")};function resume(){window.open("http://www.farazoman.com/files/cur_resume.pdf","_blank")}
var clear=function(){document.getElementById("term_area").innerHTML=""},ayuda=function(){var a="</br></br><u>The available commands are:</u>";for(i in cmds)a+=endline,a+=i;add_to_div(a)};function error(){add_to_div(errmsg);ayuda()}function turnOffBlinker(){backspace(!0);blinkerOn=!1}function blinker(){var a="";inFocus?(blinkerOn?turnOffBlinker():(a+="<blink>|</blink>",blinkerOn=!0),add_to_div(a,!0)):turnOffBlinker()}
document.addEventListener("keypress",function(a){var b=document.getElementById("term_area");if(inFocus){if(13==a.keyCode){backspace(!0);console.log(cmd);try{cmd?cmds[cmd].execute():nada()}catch(g){error()}backspace(!0);cmd="";add_to_div(prompt)}else a=String.fromCharCode(a.keyCode),turnOffBlinker(),add_to_div(a),cmd+=a;b.scrollTop=b.scrollHeight}});window.addEventListener("keydown",function(a){},!1);function left_cursor(){document.getElementById("term_area")}
function backspace(a){blinkerOn&&a&&($("#term_area blink:last-child").remove(),blinkerOn=!1);0==cmd.length||a||($("#term_area blink:last-child").remove(),$("#term_area span:last-child").remove(),cmd=cmd.substring(0,cmd.length-1))}
$(document).unbind("keydown").bind("keydown",function(a){var b=!1;8===a.keyCode&&(b=a.srcElement||a.target,b="INPUT"===b.tagName.toUpperCase()&&("TEXT"===b.type.toUpperCase()||"PASSWORD"===b.type.toUpperCase()||"FILE"===b.type.toUpperCase()||"EMAIL"===b.type.toUpperCase()||"SEARCH"===b.type.toUpperCase()||"DATE"===b.type.toUpperCase())||"TEXTAREA"===b.tagName.toUpperCase()?b.readOnly||b.disabled:!0,backspace(!1),turnOffBlinker());b&&a.preventDefault()});